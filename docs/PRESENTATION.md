# 🎮 Каталог Видеоигр — Презентация Проекта

## 📌 Описание Идеи

### Какую проблему решает приложение?

**Проблема:** Геймерам сложно найти интересные игры среди тысяч доступных вариантов. Существующие платформы (Steam, Epic Games, GOG) перегружены информацией и сложны в навигации.

**Решение:** Простой и удобный каталог видеоигр с интуитивным интерфейсом, быстрым поиском и персональным списком избранного.

### Основной функционал

| Функция | Описание |
|---------|----------|
| 🔍 **Поиск** | Мгновенный поиск по названию с debounce (300ms) |
| 🎯 **Фильтрация** | По платформам (PC, PlayStation, Xbox, Nintendo) и жанрам (Action, RPG, Strategy, Adventure, Sports, Shooter) |
| 📊 **Сортировка** | По рейтингу или дате выхода (по возрастанию/убыванию) |
| ❤️ **Избранное** | Сохранение любимых игр в личный список |
| 📱 **Адаптивность** | Работает на всех устройствах (мобильные, планшеты, ПК) |

### Чем лучше существующих решений?

1. **Простота** — Чистый интерфейс без рекламы и отвлекающих элементов
2. **Скорость** — SPA-архитектура обеспечивает мгновенные переходы между страницами
3. **Кроссплатформенность** — Не привязан к конкретному магазину (Steam/Epic/GOG)
4. **Персонализация** — Личный список избранного с синхронизацией между устройствами
5. **Открытый код** — Полностью открытый исходный код, можно форкнуть и доработать

---

## 👤 Пользовательские Сценарии

### Сценарий 1: Поиск и просмотр игры

```
Пользователь → Главная страница → Вводит название в поиске → 
→ Видит отфильтрованные результаты → Кликает на карточку игры → 
→ Просматривает детальную информацию (описание, скриншоты, рейтинг)
```

**Шаги:**
1. Пользователь заходит на главную страницу (`/`)
2. Вводит название игры в поисковую строку
3. Результаты фильтруются в реальном времени (с задержкой 300ms)
4. Пользователь кликает на карточку интересующей игры
5. Открывается страница игры (`/game/:id`) с полной информацией:
   - Название и описание
   - Галерея скриншотов
   - Рейтинг (звёзды + числовое значение)
   - Платформы и жанры
   - Разработчик и издатель
   - Дата релиза

### Сценарий 2: Фильтрация по платформе и жанру

```
Пользователь → Главная страница → Открывает панель фильтров → 
→ Выбирает платформу "PlayStation" → Выбирает жанр "RPG" → 
→ Видит только PlayStation RPG-игры
```

**Шаги:**
1. Пользователь на главной странице
2. Нажимает кнопку "Фильтры"
3. Выбирает платформу (например, PlayStation)
4. Выбирает жанр (например, RPG)
5. Список игр автоматически обновляется
6. Видит только игры, соответствующие выбранным критериям
7. Может сбросить фильтры кнопкой "Сбросить"

### Сценарий 3: Добавление игры в избранное

```
Пользователь → Страница игры → Нажимает "Добавить в избранное" → 
→ Игра сохраняется в избранное → Переходит на страницу избранного → 
→ Видит добавленную игру в списке
```

**Шаги:**
1. Пользователь находится на странице игры (`/game/:id`)
2. Нажимает кнопку "Добавить в избранное" ❤️
3. Кнопка меняет состояние на "Удалить из избранного"
4. Игра сохраняется в localStorage + Supabase
5. Пользователь переходит на страницу избранного (`/favorites`)
6. Видит добавленную игру в списке
7. Может удалить игру из избранного кнопкой "Удалить"

---

## 🎨 Дизайн — Схематичные Макеты

### Главная страница (Desktop)

```
┌──────────────────────────────────────────────────────────────────┐
│  🎮 GameCatalog                    Главная | Избранное | О проекте │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│                    🎮 Каталог Видеоигр                          │
│              Найдите свою следующую любимую игру                │
│                                                                  │
│  ┌────────────────────────────────────┐                         │
│  │ 🔍 Поиск игр...                    │  [Фильтры] [Сортировка▼] │
│  └────────────────────────────────────┘                         │
│                                                                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐        │
│  │   📷     │  │   📷     │  │   📷     │  │   📷     │        │
│  │          │  │          │  │          │  │          │        │
│  │ Game 1   │  │ Game 2   │  │ Game 3   │  │ Game 4   │        │
│  │ ★★★★★    │  │ ★★★★☆    │  │ ★★★★★    │  │ ★★★★☆    │        │
│  │ Action   │  │ RPG      │  │ Adventure│  │ Shooter  │        │
│  │ ♡        │  │ ♡        │  │ ♡        │  │ ♡        │        │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘        │
│                                                                  │
│                      [1] [2] [3] ... [→]                        │
│                                                                  │
├──────────────────────────────────────────────────────────────────┤
│  © 2024 GameCatalog                                              │
└──────────────────────────────────────────────────────────────────┘
```

### Главная страница (Mobile)

```
┌─────────────────────────┐
│  🎮     [≡]             │
├─────────────────────────┤
│                         │
│    🎮 Каталог Игр       │
│                         │
│ ┌─────────────────────┐ │
│ │ 🔍 Поиск...         │ │
│ └─────────────────────┘ │
│                         │
│ [Фильтры] [Сортировка▼] │
│                         │
│ ┌─────────────────────┐ │
│ │       📷           │ │
│ │     Game 1         │ │
│ │   ★★★★★ 9.5       │ │
│ │   Action, RPG      │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │       📷           │ │
│ │     Game 2         │ │
│ │   ★★★★☆ 8.8       │ │
│ │   Adventure        │ │
│ └─────────────────────┘ │
│                         │
│     [1] [2] [→]         │
│                         │
├─────────────────────────┤
│  © 2024 GameCatalog     │
└─────────────────────────┘
```

### Страница игры

```
┌──────────────────────────────────────────────────────────────────┐
│  🎮 GameCatalog                    Главная | Избранное | О проекте │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│  [← Назад в каталог]                                            │
│                                                                  │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │                                                            │ │
│  │                    📷 Cover Image                         │ │
│  │                                                            │ │
│  └────────────────────────────────────────────────────────────┘ │
│                                                                  │
│  The Witcher 3: Wild Hunt                                       │
│  ═════════════════════════                                      │
│                                                                  │
│  ★★★★★ 9.5/10          📅 19 мая 2015                          │
│                                                                  │
│  🖥 PC  🎮 PlayStation  🎮 Xbox  🎮 Nintendo                     │
│                                                                  │
│  Жанры: Action, RPG                                             │
│                                                                  │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │ Описание:                                                 │   │
│  │ The Witcher 3: Wild Hunt is a story-driven, open world   │   │
│  │ RPG set in a visually stunning fantasy universe...       │   │
│  └──────────────────────────────────────────────────────────┘   │
│                                                                  │
│  Разработчик: CD Projekt Red    Издатель: CD Projekt            │
│                                                                  │
│  📷 Скриншоты:                                                  │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐               │
│  │   📷    │ │   📷    │ │   📷    │ │   📷    │               │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘               │
│                                                                  │
│                    [❤️ Добавить в избранное]                    │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
```

### Страница избранного

```
┌──────────────────────────────────────────────────────────────────┐
│  🎮 GameCatalog                    Главная | Избранное | О проекте │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│                       ❤️ Избранное                              │
│              Ваши любимые игры в одном месте                    │
│                                                                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐                      │
│  │   📷     │  │   📷     │  │   📷     │                      │
│  │          │  │          │  │          │                      │
│  │ Witcher 3│  │Elden Ring│  │God of War│                      │
│  │ ★★★★★    │  │ ★★★★★    │  │ ★★★★★    │                      │
│  │ [Удалить]│  │ [Удалить]│  │ [Удалить]│                      │
│  └──────────┘  └──────────┘  └──────────┘                      │
│                                                                  │
│                                                                  │
│  ─────────────────────────────────────────────────────────────  │
│                                                                  │
│  Если список пуст:                                              │
│                                                                  │
│                     💔 Пока пусто                               │
│          Добавьте игры в избранное из каталога                 │
│                  [Перейти к каталогу]                           │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
```

---

## 🔌 Описание REST API

### База данных: Supabase (PostgreSQL)

**Хост:** `https://[PROJECT_ID].supabase.co`

### Игры (Games)

#### GET /rest/v1/games
Получить список игр с фильтрацией, сортировкой и пагинацией.

**Query параметры:**
| Параметр | Тип | Описание | Пример |
|----------|-----|----------|--------|
| `title` | string | Поиск по названию (ilike) | `title=ilike.*witcher*` |
| `platforms` | array | Фильтр по платформам | `platforms=ov.{PC,PlayStation}` |
| `genres` | array | Фильтр по жанрам | `genres=ov.{RPG,Action}` |
| `order` | string | Сортировка | `rating.desc` или `release_date.asc` |
| `limit` | number | Количество результатов | `12` |
| `offset` | number | Пропустить N результатов | `0` |

**Пример запроса:**
```http
GET /rest/v1/games?title=ilike.*witcher*&platforms=ov.{PC}&order=rating.desc&limit=12&offset=0
Authorization: Bearer <ANON_KEY>
```

**Пример ответа:**
```json
[
  {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "title": "The Witcher 3: Wild Hunt",
    "description": "The Witcher 3: Wild Hunt is a story-driven...",
    "release_date": "2015-05-19",
    "rating": 9.5,
    "metacritic_score": 93,
    "platforms": ["PC", "PlayStation", "Xbox", "Nintendo"],
    "genres": ["RPG", "Action"],
    "developer": "CD Projekt Red",
    "publisher": "CD Projekt",
    "cover_image": "https://example.com/witcher3.jpg",
    "screenshots": ["https://example.com/screen1.jpg"],
    "created_at": "2023-01-01T00:00:00Z",
    "updated_at": "2023-01-01T00:00:00Z"
  }
]
```

---

#### GET /rest/v1/games?id=eq.{id}
Получить игру по ID.

**Пример запроса:**
```http
GET /rest/v1/games?id=eq.550e8400-e29b-41d4-a716-446655440000&select=*
Authorization: Bearer <ANON_KEY>
```

---

#### POST /rest/v1/games
Создать новую игру.

**Тело запроса:**
```json
{
  "title": "New Game",
  "description": "Game description",
  "release_date": "2024-01-01",
  "rating": 8.5,
  "platforms": ["PC", "PlayStation"],
  "genres": ["Action", "Adventure"],
  "developer": "Developer Name",
  "publisher": "Publisher Name",
  "cover_image": "https://example.com/cover.jpg",
  "screenshots": ["https://example.com/screen1.jpg"]
}
```

---

#### PATCH /rest/v1/games?id=eq.{id}
Обновить игру.

**Тело запроса:**
```json
{
  "rating": 9.0,
  "updated_at": "2024-01-01T12:00:00Z"
}
```

---

#### DELETE /rest/v1/games?id=eq.{id}
Удалить игру.

---

### Избранное (Favorites)

#### GET /rest/v1/favorites?user_id=eq.{userId}
Получить список избранных игр пользователя.

**Пример ответа:**
```json
[
  {
    "id": "660e8400-e29b-41d4-a716-446655440001",
    "user_id": "local-user-123",
    "game_id": "550e8400-e29b-41d4-a716-446655440000",
    "created_at": "2024-01-01T12:00:00Z"
  }
]
```

---

#### POST /rest/v1/favorites
Добавить игру в избранное.

**Тело запроса:**
```json
{
  "user_id": "local-user-123",
  "game_id": "550e8400-e29b-41d4-a716-446655440000"
}
```

---

#### DELETE /rest/v1/favorites?user_id=eq.{userId}&game_id=eq.{gameId}
Удалить игру из избранного.

---

## 📊 Схема Базы Данных

```sql
-- Таблица games
CREATE TABLE games (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  title VARCHAR(255) NOT NULL,
  description TEXT,
  release_date DATE,
  rating DECIMAL(3,1) CHECK (rating >= 0 AND rating <= 10),
  metacritic_score INTEGER CHECK (metacritic_score >= 0 AND metacritic_score <= 100),
  platforms TEXT[] NOT NULL DEFAULT '{}',
  genres TEXT[] NOT NULL DEFAULT '{}',
  developer VARCHAR(255),
  publisher VARCHAR(255),
  cover_image VARCHAR(500),
  screenshots TEXT[] DEFAULT '{}',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Индексы для быстрого поиска
CREATE INDEX idx_games_title ON games USING gin(to_tsvector('english', title));
CREATE INDEX idx_games_platforms ON games USING gin(platforms);
CREATE INDEX idx_games_genres ON games USING gin(genres);
CREATE INDEX idx_games_rating ON games(rating DESC);
CREATE INDEX idx_games_release_date ON games(release_date DESC);

-- Таблица favorites
CREATE TABLE favorites (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id VARCHAR(255) NOT NULL,
  game_id UUID NOT NULL REFERENCES games(id) ON DELETE CASCADE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(user_id, game_id)
);

-- Индекс для быстрого поиска избранного пользователя
CREATE INDEX idx_favorites_user_id ON favorites(user_id);
```

---

## 🔧 Технические Особенности

### Fallback для локальной разработки

Приложение работает **без Supabase** для удобства разработки:
- 30 встроенных игр (mock data)
- Избранное сохраняется в localStorage
- Полная функциональность без backend

### Безопасность

- Row Level Security (RLS) в Supabase
- Анонимный API-ключ только для чтения игр
- CRUD избранного привязан к user_id из localStorage

### Производительность

- Lazy loading страниц (React.lazy + Suspense)
- Debounce для поиска (300ms)
- Пагинация (12 игр на страницу)
- Оптимизированные запросы с индексами

---

## ✅ Вывод

**GameCatalog** — это современное, быстрое и удобное приложение для поиска и отслеживания видеоигр. Проект демонстрирует:

- Современный стек технологий (React 18, TypeScript, Redux Toolkit)
- Чистую архитектуру с разделением ответственности
- Адаптивный дизайн для всех устройств
- Полноценную интеграцию с backend (Supabase)
- Тестирование на всех уровнях (unit, component, e2e)

**Проект готов к использованию и дальнейшему развитию!** 🚀
